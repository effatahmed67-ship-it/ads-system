{% extends "base.html" %}
{% block content %}

<h3 class="mb-4">تقارير العقود</h3>

<div class="card p-4 shadow-sm">

    <form method="post">

        <div class="row g-3">
            <div class="col-md-4">
                <label>من تاريخ</label>
                <input type="date" name="from_date" class="form-control">
            </div>

            <div class="col-md-4">
                <label>إلى تاريخ</label>
                <input type="date" name="to_date" class="form-control">
            </div>

            <div class="col-md-4">
                <label>اسم العميل</label>
                <select name="client" class="form-select">
                    <option value="">الكل</option>
                    {% for c in clients %}
                        <option value="{{ c.id }}">{{ c.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <button class="btn btn-primary mt-3">بحث</button>

    </form>

</div>

<hr>

<div class="card p-3 shadow-sm">

    <h5>نتائج تقرير العقود</h5>

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>بداية العقد</th>
                <th>نهاية العقد</th>
                <th>العميل</th>
                <th>العنوان</th>
                <th>رقم الحساب</th>
                <th>اسم إصدار الشيك</th>
                <th>المبلغ</th>
                <th>المتبقي</th>
            </tr>
        </thead>

        <tbody>
            {% for c in contracts %}
            <tr>
                <td>{{ c.start_date }}</td>
                <td>{{ c.end_date }}</td>
                <td>{{ c.client }}</td>
                <td>{{ c.address }}</td>
                <td>{{ c.account }}</td>
                <td>{{ c.cheque }}</td>
                <td>{{ c.total }}</td>
                <td>{{ c.remaining }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}

